<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway" type='text/css'>
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
        <link rel="stylesheet" href="http://rawgit.com/Leaflet/Leaflet.draw/0.2.3/dist/leaflet.draw.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ol3/3.10.1/ol.min.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://rawgit.com/geosolutions-it/MapStore2-theme/master/theme/default/css/css.css">
        <link rel="stylesheet" href="https://rawgit.com/geosolutions-it/MapStore2-theme/master/theme/default/css/ms2-theme.css">
        <link rel="stylesheet" href="https://rawgit.com/geosolutions-it/MapStore2-theme/master/theme/default/css/font.css">
        <script src="http://maps.google.com/maps/api/js?v=3"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.10/proj4.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
        <script src="http://rawgit.com/Leaflet/Leaflet.draw/0.2.3/dist/leaflet.draw-src.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/ol3/3.10.1/ol.min.js"></script>
        <script src="../../libs/Cesium/Build/Cesium/Cesium.js"></script>
        <link rel="stylesheet" href="../../libs/Cesium/Build/Cesium/Widgets/widgets.css" />
        <style>
            #container {
                position: absolute;
                top: 100px;
                bottom: 100px;
                left: 100px;
                right: 100px;
            }
            h1 {
                text-align: center;
            }
        </style>
        <script type="text/javascript">
            function init() {
                MapStore2.create('container', {
                    plugins: {
                        "mobile": [{
                            "name": "Map",
                            "cfg": {
                                "zoomControl": false,
                                "tools": ["locate"]
                            }
                        }],
                        "desktop": [{
                            "name": "Map",
                            "cfg": {
                                "zoomControl": false
                            }
                        }, "MousePosition", {
                            "name": "Toolbar",
                            "cfg": {
                                "buttonStyle": "primary",
                                "style": {
                                    "top": "70px"
                                }
                            }
                      }, {
                          "name": "ZoomAll",
                            "cfg":{
                              "className": "square-button"
                            }
                      },{
                          "name": "Expander",
                            "cfg":{
                              "className": "square-button"
                            }
                      }, {
                          "name": "ZoomIn",
                              "override": {
                                  "Toolbar": {
                                      "alwaysVisible": true
                                  }
                              }
                      }, {
                          "name": "ZoomOut",
                              "override": {
                                  "Toolbar": {
                                      "alwaysVisible": true
                                  }
                              }
                      }, "ScaleBox", {
                          "name": "OmniBar",
                          "cfg": {
                              "style": {
                                  "right": "5px",
                                  "top": "5px"
                              }
                          }
                      }, {
                          "name": "Search"
                      }, {
                          "name": "DrawerMenu",
                          "cfg": {
                              "glyph": "1-stilo",
                              "buttonStyle": "primary",
                              "buttonClassName": "square-button",
                              "singleSection": true,
                              "menuButtonStyle": {
                                  "position": "absolute",
                                  "top": 0
                              }
                            }
                      }, {
                          "name": "TOC",
                          "cfg": {
                              "visibilityCheckType": "glyph",
                              "settingsOptions": {
                                  "includeCloseButton": false,
                                  "closeGlyph": "1-close",
                                  "asModal": false,
                                  "buttonSize": "small"
                              }
                          },
                          "override": {
                              "DrawerMenu": {
                                  "glyph": "1-layer",
                                  "buttonConfig": {
                                    "buttonClassName": "square-button no-border"
                                  }
                              }
                          }
                      }, {
                              "name": "BackgroundSwitcher",
                              "cfg": {
                                  "fluid": true,
                                  "columnProperties": {
                                        "xs": 12,
                                        "sm": 12,
                                        "md": 12
                                  }
                              },
                              "override": {
                                  "DrawerMenu": {
                                          "glyph": "1-map",
                                          "buttonConfig": {
                                              "buttonClassName": "square-button no-border"
                                          }
                                }
                              }
                      }, "BurgerMenu", {
                              "name": "Settings",
                              "cfg": {
                                  "wrapWithPanel": false,
                                  "closeGlyph": "1-close",
                                    "overrideSettings": {
                                      "history": false
                                    },
                                    "wrap": true
                              }
                      },
                  {
                     "name": "Identify",
                           "cfg": {
                               "panelClassName": "modal-dialog info-panel modal-content",
                               "headerClassName": "modal-header",
                               "bodyClassName": "modal-body info-wrap",
                               "asPanel": false,
                               "headerGlyph": "",
                               "glyph": "map-marker",
                               "className": "square-button",
                               "closeGlyph": "1-close",
                               "wrapRevGeocode": false,
                               "enableRevGeocode": true,
                               "viewerOptions": {
                                  "container": "{context.ReactSwipe}",
                                  "header": "{context.SwipeHeader}",
                                  "headerOptions": {
                                      "useButtons": true
                                  },
                                  "containerProps": {
                                      "continuous": false
                                  },
                                  "collapsible": false
                              }
                           }
                       }]
                    },
                    initialState: {
                        defaultState: {
                            controls: {
                                toolbar: {
                                    active: null,
                                    expanded: false
                                },
                                drawer: {
                                    enabled: false,
                                    menu: "1"
                                }
                            }
                        }
                    },
                    storeOpts: {
                        persist: {
                            whitelist: ['security']
                        }
                    }
                });
            }
        </script>
    </head>
    <body onload="init()">
        <h1>MapStore2 Embedded</h1>
        <div id="container"></div>
        <script src="../../dist/api.js"></script>
    </body>
</html>
